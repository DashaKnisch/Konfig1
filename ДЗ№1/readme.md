
# ДЗ №1 Разработать эмулятор для языка оболочки ОС 

# Общее описание
Данный проект представляет собой эмулятор оболочки (shell) на языке Python, который работает с виртуальной файловой системой, расположенной в zip-архиве. Основные функции включают в себя выполнение базовых команд оболочки, таких как ls, cd, touch, cat, find, и exit. Конфигурация эмулятора загружается из CSV файла, включающего пути к виртуальной файловой системе, файлу логов и стартовому скрипту. Логирование всех действий ведется в указанный файл логов.
Этот скрипт реализует эмулятор оболочки с ограниченным набором команд для взаимодействия с виртуальной файловой системой, хранящейся в zip-архиве. Основные команды включают навигацию по файловой системе (cd и ls), создание файлов (touch), вывод содержимого файлов (cat), поиск файлов (find), а также завершение работы (exit). В процессе работы ведется логирование всех действий.

Сначала скрипт читает конфигурацию из файла config.csv, которая задает пути к виртуальной файловой системе, лог-файлу и стартовому скрипту. Логирование настраивается с использованием пути, указанного в конфигурации.

Для взаимодействия с файлами внутри zip-архива используется библиотека zipfile. Все созданные во время сеанса файлы сохраняются в специальном множестве created_files, что позволяет командой ls отображать их наряду с файлами, присутствующими в архиве изначально.

При запуске эмулятора оболочки, указанный в конфигурационном файле стартовый скрипт автоматически исполняет заложенные в нём команды. В данном случае, в скрипте содержатся следующие команды:

touch startup_file.txt
ls
Вот как эти команды выполняются:

touch startup_file.txt:

Эта команда создаёт новый пустой файл с именем startup_file.txt в текущей рабочей директории. В контексте эмулятора оболочки файл добавляется в специальное множество created_files, которое хранит все файлы, созданные в текущем сеансе. Это позволяет последующим командам распознавать и работать с этим файлом, как если бы он изначально существовал в виртуальной файловой системе.
ls:

После создания файла командой touch, команда ls выводит содержимое текущей директории. Она отображает как файлы и папки, изначально присутствующие в zip-архиве, так и файлы, созданные в текущем сеансе, такие как startup_file.txt. Команда собирает информацию о содержимом директории и сортирует её, выводя имена всех найденных элементов.

Команда cd изменяет текущую директорию, проверяя её существование как в архиве, так и среди созданных файлов. Команда ls выводит содержимое текущей директории, включая созданные файлы.

Команда find ищет файлы по имени в текущей директории и её поддиректориях, отображая все совпадения. Команда touch создаёт пустой файл в указанной директории, добавляя его в множество created_files.

Команда cat выводит содержимое файла, если он существует в архиве или был создан в текущем сеансе. В случае отсутствия файла выводится соответствующее сообщение об ошибке.

Команда exit завершает работу эмулятора оболочки, закрывая zip-архив и выходя из программы.

Команды вводятся в основной петле программы, которая считывает пользовательский ввод и выполняет соответствующие действия. Также поддерживается выполнение стартового скрипта, если он задан в конфигурации, что позволяет автоматически выполнять набор команд при запуске эмулятора оболочки.

Этот эмулятор оболочки полезен для управления файлами внутри zip-архива и создания файлов во время сеанса работы, обеспечивая базовый функционал командной строки в ограниченном окружении.

# Описание всех функций и настроек
    read_config(config_file): Читает конфигурационный файл CSV и возвращает словарь с ключами и значениями конфигурации.
    
    log_action(action): Записывает действие в файл логов.
    
    ls_command(current_dir): Выводит содержимое текущей директории, включая файлы из zip-архива и созданные во время сеанса.
    
    cd_command(current_dir, path): Изменяет текущую директорию на указанную. Проверяет существование директории в zip-архиве или среди созданных файлов.
    
    exit_command(): Завершает работу эмулятора оболочки и закрывает zip-архив.
    
    find_command(current_dir, filename): Ищет файл с указанным именем в текущей директории и её поддиректориях, включая файлы из zip-архива и созданные файлы.

    touch_command(current_dir, filename): Создает пустой файл с указанным именем в текущей директории.

    cat_command(current_dir, filename): Выводит содержимое указанного файла. Если файл был создан во время сеанса, выводится пустое содержимое.

    parse_and_execute(command_line, current_dir): Разбирает введенную команду и вызывает соответствующую функцию для её выполнения.

    execute_startup_script(current_dir): Выполняет команды, указанные в стартовом скрипте, при запуске эмулятора.

    main(): Основной цикл программы, который принимает и исполняет команды пользователя.


# Описание команд для сборки проекта.
Для сборки и запуска этого проекта я выполнила следующие шаги:

 Я создала конфигурационный файл config.csv с содержимым следующего вида:
 
    vfs_path, путь_к_vfs_zip
    log_path, путь_к_лог_файлу
    startup_script_path, путь_к_стартовому_скрипту

Убедилась, что файл виртуальной файловой системы (zip-архив), указанный в vfs_path, существует и доступен.

Даллее я создала стартовый скрипт, указанный в startup_script_path, содержащий команды для выполнения при старте.

Запустила скрипт с помощью команды:
python3 shell_emulator.py

Запустив эмулятор оболочки, я смогла выполнить все команды, указанные в стартовом скрипте, а затем перейти в интерактивный режим для ввода и выполнения дополнительных команд.

# Пример использования:
